<!doctype html>
<html lang="en" ng-app="doraApp">
<head>
  <meta charset="utf-8">
  <title>Dora - Iteration 1</title>
  <link rel="stylesheet" href="/static/bootstrap/css/bootstrap.css">
  <link rel="stylesheet" href="/static/bootstrap/css/bootstrap-theme.min.css">
  <link rel="stylesheet" type="text/css" href="/static/ol2/style.css">
  <link rel="stylesheet" type="text/css" href="/static/css/stylesheet.css">
  
  <script src="/static/angular/angular.js"></script>
  <script src="/static/jquery/jquery.js"></script>
  <script src="http://code.jquery.com/jquery.min.js"></script>
  <!--<script src="/static/bootstrap/js/bootstrap.min.js"></script>-->
  <script src='/static/ol2/ol.js'></script>
  <script type="text/javascript" src="https://www.google.com/jsapi"></script>

  <script src="/static/js/app.js"></script>
  <script src="/static/js/controllers.js"></script>
  <script src="/static/js/services.js"></script>
  <script src="/static/js/map_ol2.js"></script>
  <script src="/static/js/qrspanel.js"></script>

</head>
{% verbatim %}
<body onload="init()">

  <!-- <div class="controls-container"> -->
  <div class="container">

    <div id="map">
      <div id="customZoom">
        <a href="#customZoomIn" id="customZoomIn">+</a>
        <a href="#customZoomOut" id="customZoomOut">-</a>
      </div>
    </div>


    <div class="row" ng-controller="QueryFormController"> 
        <div class="col-xs-4 above">
          <div class="input-group">
            <input ng-model="queryString" type="Search" placeholder="Enter medical condition here" class="form-control" />
            <div class="input-group-btn">
              <button class="btn btn-info" ng-click="submitQuery()">
                <span class="glyphicon glyphicon-search"></span>
              </button>
            </div>
          </div>
        </div>

        <button type="button" class="btn btn-info col-xs-1 above" ng-click="filterFormVisibility = true">+ Filter</button>

        <div>
          <div class="filter">
            <button ng-repeat="filter in queryFilters" class="filter btn btn-default"> {{filter.value}} </button>
          </div>

          <div class="filter" ng-show="filterFormVisibility" >
            <select class="filter form-control" ng-model="filterFormType" style="width:100px;">
              <option value="age">Age</option>
              <option value="gender">Gender</option>
              <option value="treatment">Treatment</option>
            </select>

            <div class="filter" ng-show="filterFormType == 'age'">
              <input ng-model="filterFormValue" type="number"/>
            </div>

            <div class="filter" ng-show="filterFormType == 'gender'">
              <input ng-model="filterFormValue" type="radio" name="gender" value="M"/>Male
              <input ng-model="filterFormValue" type="radio" name="gender" value="F"/>Female
            </div>

            <div class="filter" ng-show="filterFormType == 'treatment'">
              <input ng-model="filterFormValue" type="text"/>
            </div>
            <button type="button" class="btn btn-info" ng-click="addFilter()">Done</button>
          </div>
        </div>
    </div>

    <div class="row" ng-controller="QueryResultController">
      <div class="col-xs-1 above">
        <div ng-repeat="qrs in QRSHistory">
          <button type="button" class="btn btn-success btn-circle" ng-click="setDisplayedQRS($index)">{{$index}}</button>
        </div>
      </div> 


      <div class="col-xs-3 above">      
        <div class="panel panel-success">
          <div class="panel-heading">
            <h3 class="panel-title" id="qrs-panel-title">Query Result Set</h3>
          </div>
          <div class="panel-body" id="qrs-panel-body">  
            <div id="pie-chart"></div>
            <div id="line-chart"></div>

            <button type="button" class="btn btn-success" id="togglePL">patient list</button>
            <div id="pl"></div>
            {{displayedQRS.string}}
            {{qrs.string}}
            {{displayedQRS | json}}
          </div>
        </div>
      </div>

      <!-- </div> -->
    </div>
  </div>

  {% endverbatim %}
  <!-- scripts loaded after html-->

</body>

</html>
